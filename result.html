
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>합격 조회 결과</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box}
body{
 margin:0;font-family:'Noto Sans KR',sans-serif;
 background:radial-gradient(circle at top,#1b2b45,#0b1220);
 min-height:100vh;display:flex;justify-content:center;align-items:center
}
.panel{
 width:560px;background:linear-gradient(180deg,#fff,#f3f6fb);
 border-radius:24px;padding:44px 40px 42px;
 box-shadow:0 40px 80px rgba(0,0,0,.35);
 position:relative;
}
.header{text-align:center;margin-bottom:14px}
.logo{width:80px}
h1{font-size:22px;margin:10px 0 0}

.congrats-wrap{text-align:center;margin:10px 0 18px}
.congrats-main{
 font-size:34px;font-weight:800;
 background:linear-gradient(90deg,#3b6cff,#6fb7ff,#3b6cff);
 background-size:200% auto;
 color:transparent;
 -webkit-background-clip:text;
 animation:flow 2s linear infinite;
}
.congrats-sub{
 margin-top:6px;font-size:18px;font-weight:600;color:#1f2d4d;line-height:1.4
}

.video-box{
 width:100%;margin:16px 0 10px;
 border-radius:14px;overflow:hidden;
 box-shadow:0 12px 30px rgba(0,0,0,.25)
}
.video-box video{width:100%;display:block}

table{width:100%;border-collapse:collapse;margin-top:14px}
td{padding:12px 8px;border-bottom:1px solid #e0e4ef}
td:first-child{color:#555;width:35%}

.result-pass{
 font-weight:800;
 background:linear-gradient(90deg,#3b6cff,#6fb7ff,#3b6cff);
 background-size:200% auto;
 color:transparent;
 -webkit-background-clip:text;
 animation:flow 2s linear infinite;
}
.result-fail{
 font-weight:800;
 background:linear-gradient(90deg,#ff4d4d,#ff9a9a,#ff4d4d);
 background-size:200% auto;
 color:transparent;
 -webkit-background-clip:text;
 animation:flow 2s linear infinite;
}
@keyframes flow{to{background-position:200% center}}

/* Buttons */
.btn-row{
 display:flex;gap:12px;margin-top:22px
}
.glass-btn{
 position:relative;overflow:hidden;
 padding:15px 0;font-size:15px;font-weight:700;color:white;
 border-radius:14px;border:none;cursor:pointer;
 background:linear-gradient(120deg,#3b6cff,#6fb7ff,#3b6cff);
 background-size:200% 200%;
 animation:glowMove 4s ease infinite;
 box-shadow:0 12px 30px rgba(59,108,255,.45);
 transition:.35s;flex:1
}
.full{width:100%}
.glass-btn::before{
 content:"";position:absolute; inset:0;
 background:linear-gradient(60deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 70%);
 animation:shine 5s linear infinite;
}
.glass-btn:hover{transform:translateY(-2px) scale(1.02);animation-duration:1.5s}
@keyframes glowMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes shine{from{transform:translateX(-100%)}to{transform:translateX(100%)}}

/* hide cert on screen */
.cert{display:none}

/* ===== PRINT LAYOUT ===== */
@page{size:A4;margin:18mm}
@media print{
 body{background:white}
 .header,.congrats-wrap,.video-box,#table,.btn-row{display:none !important}
 .panel{box-shadow:none;width:100%;padding:0}

 .cert{
  display:block !important;
  border:1.5px solid #165F9C;
  padding:35px 40px 50px;
 }

 .cert h2{text-align:center;font-size:26px;margin:10px 0 25px}

 .cert table td{
  border-bottom:1px solid #aaa;
  font-size:16px;
  padding:14px 8px;
 }

 .cert-text{margin-top:28px;font-size:18px;line-height:1.8}

 .sign-wrap{
  margin-top:60px;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:20px;
 }

 .sign-text{text-align:right;font-size:17px;line-height:1.6}

 .stamp{width:140px;opacity:.85}
 .print-logo{width:90px;display:block;margin:0 auto 10px}
}
</style>
</head>
<body>
<div class="panel">
 <div class="header">
  <img src="logo.png" class="logo">
  <h1>계남고등학교 제32대 학생회<br>합격자 조회 결과</h1>
 </div>

 <div class="congrats-wrap" id="congratsWrap" style="display:none">
   <div class="congrats-main">축하합니다.</div>
   <div class="congrats-sub">
     계남고등학교 제32대 학생회에<br>
     최종 합격하셨습니다.
   </div>
 </div>

 <div class="video-box" id="videoBox" style="display:none">
   <video id="congratsVideo" src="congrats.mp4" autoplay loop muted playsinline></video>
 </div>

 <table id="table"></table>

 <div class="btn-row" id="btnRow"></div>

 <!-- ===== PRINT CERTIFICATE ===== -->
 <div class="cert" id="cert">
   <img src="logo.png" class="print-logo">
   <h2>계남고등학교 제32대 학생회 합격통지서</h2>
   <table id="certTable"></table>

   <div class="cert-text">
     위 사람은 계남고등학교 제32대 학생회 선발에<br>
     합격하였음을 통지합니다.
   </div>

   <div class="sign-wrap">
     <div class="sign-text">
       계남고등학교<br>
       학생회장 오제영
     </div>
     <img src="stamp.png" class="stamp">
   </div>
 </div>
</div>

<script>
const DATA={
 "10714":{name:"오제영",birth:"090320",track:"콘텐츠문화계열",unit:"언론홍보부",pos:"부장",result:"pass"},
 "10715":{name:"홍길동",birth:"090420",track:"콘텐츠문화계열",result:"fail"},
 "10716":{name:"이재하",birth:"090714",track:"기획행정계열",result:"fail"},
 "10717":{name:"최선우",birth:"090812",track:"콘텐츠문화계열",unit:"특별활동부",pos:"차장",result:"pass"},
 "10718":{name:"오승진",birth:"090320",track:"기획행정계열",unit:"기획재정부",pos:"부원",result:"pass"}
};

const p=new URLSearchParams(location.search);
const sid=p.get("sid");
const birth=p.get("birth");
const name=p.get("name");
const t=document.getElementById("table");
const certTable=document.getElementById("certTable");
const btnRow=document.getElementById("btnRow");
const video=document.getElementById("congratsVideo");

if(!DATA[sid]||DATA[sid].birth!==birth||DATA[sid].name!==name){
 alert("지원자가 아니거나, 입력정보가 잘못되었습니다.");
 location.href="index.html";
}else{
 const d=DATA[sid];
 function row(a,b){return `<tr><td>${a}</td><td>${b}</td></tr>`}
 let html="";
 html+=row("이름",d.name);
 html+=row("학번",sid);
 html+=row("생년월일",birth);
 html+=row("지원분야",d.track);

 if(d.result==="pass"){
  document.getElementById("congratsWrap").style.display="block";
  document.getElementById("videoBox").style.display="block";

  html+=row("모집단위",d.unit);
  html+=row("직위",d.pos);
  html+=row("결과",'<span class="result-pass">합격</span>');

  btnRow.innerHTML = `
    <button class="glass-btn" onclick="window.print()">합격통지서 인쇄</button>
    <button class="glass-btn" onclick="location.href='index.html'">다시 조회하기</button>
  `;

  // enable sound on first interaction
  document.body.addEventListener("click",()=>{
    if(video.muted){
      video.muted=false;
      video.play();
    }
  },{once:true});

 }else{
  html+=row("결과",'<span class="result-fail">불합격</span>');

  btnRow.innerHTML = `
    <button class="glass-btn full" onclick="location.href='index.html'">다시 조회하기</button>
  `;
 }

 t.innerHTML=html;

 let chtml="";
 chtml+=row("성명",d.name);
 chtml+=row("학번",sid);
 chtml+=row("생년월일",birth);
 chtml+=row("지원분야",d.track);
 if(d.result==="pass"){
  chtml+=row("모집단위",d.unit);
  chtml+=row("직위",d.pos);
 }
 certTable.innerHTML=chtml;
}
</script>
</body>
</html>
